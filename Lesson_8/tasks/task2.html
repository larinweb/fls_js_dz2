<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LVS_UA L8 DZ task 2</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body class="result__body">
    <h1>Задача 2</h1>
    <p>
      Дано масив, який зберігає кількість відвідувачів магазину протягом тижня.<br />
      Вивести на екран:<br />
      1.номери днів, протягом яких кількість відвідувачів була меншою за 20;<br />
      2.номери днів, коли кількість відвідувачів була мінімальною;<br />
      3.номери днів, коли кількість відвідувачів була максимальною;<br />
      4.загальну кількість клієнтів у робочі дні та окремо загальну кількість днів на вихідних.
    </p>
    <script>
      "use strict";

      // 1. Введення необхідних даних

      // Ініціалізація масиву з даними про відвідуваність магазину протягом тижня
      let numberOfVisitors = [4, 21, 18, 55, 11, 55, 4];

      // Цільове число відвідувачів для порівняння
      const targetMin = 20;

      // 2. Обчислення результату

      //========================================================================================

      // Функція для знаходження днів, протягом яких відвідуваність була менше за 20
      function getDaysWithVisitorsLessThan20(visitors) {
        // Масив для зберігання результатів
        const arrLess20 = [];

        // Ітеруємо по всіх днях тижня
        for (let i = 0; i < visitors.length; i++) {
          // Якщо відвідуваність менше вказаного порогу, додаємо день до масиву
          if (visitors[i] < targetMin) {
            arrLess20.push(i + 1);
          }
        }
        // Повертаємо результат у масив, перетворений у рядок
        return arrLess20.join(", ");
      }

      //========================================================================================

      // Функція для знаходження днів з мінімальною відвідуваністю
      function getDaysWithMinimumVisitors(visitors) {
        // Задаємо початкове мінімальне значення як перший елемент масиву
        let minVisitors = visitors[0];

        // Масив для зберігання днів з мінімальною відвідуваністю
        let minDays = [1]; // Починаємо з першого дня

        // Ітеруємо по всіх днях тижня, починаючи з другого
        for (let i = 1; i < visitors.length; i++) {
          // Якщо відвідуваність менше поточного мінімуму, оновлюємо мінімум
          if (visitors[i] < minVisitors) {
            minVisitors = visitors[i];
            // Оновлюємо масив з днями з мінімальною відвідуваністю
            minDays = [i + 1];
          } else if (visitors[i] === minVisitors) {
            // Якщо відвідуваність дорівнює поточному мінімуму, додаємо день до масиву
            minDays.push(i + 1);
          }
        }

        // Повертаємо результат у масив, перетворений у рядок
        return minDays.join(", ");
      }

      //========================================================================================

      // Функція для знаходження днів з максимальною відвідуваністю
      function getDaysWithMaximumVisitors(visitors) {
        // Задаємо початкове максимальне значення як перший елемент масиву
        let maxVisitors = visitors[0];

        // Масив для зберігання днів з максимальною відвідуваністю
        let maxDays = [1]; // Починаємо з першого дня

        // Ітеруємо по всіх днях тижня, починаючи з другого
        for (let i = 1; i < visitors.length; i++) {
          // Якщо відвідуваність більше поточного максимуму, оновлюємо максимум
          if (visitors[i] > maxVisitors) {
            maxVisitors = visitors[i];
            // Оновлюємо масив з днями з максимальною відвідуваністю
            maxDays = [i + 1];
          } else if (visitors[i] === maxVisitors) {
            // Якщо відвідуваність дорівнює поточному максимуму, додаємо день до масиву
            maxDays.push(i + 1);
          }
        }

        // Повертаємо результат у масив, перетворений у рядок
        return maxDays.join(", ");
      }

      //========================================================================================

      // Функція для обрахування загальної відвідуваності у робочі дні
      function getVisitorsPerWorkDays(visitors) {
        // Ініціалізація змінної для обрахунку
        let visitorsPerWorkDays = 0;

        // Обраховуємо відвідуваність за перші п'ять днів тижня (робочі дні)
        for (let i = 0; i < 5; i++) {
          visitorsPerWorkDays += visitors[i];
        }

        // Повертаємо результат
        return visitorsPerWorkDays;
      }

      //========================================================================================

      // Функція для обрахування загальної відвідуваності у вихідні дні
      function getVisitorsPerWeekend(visitors) {
        // Ініціалізація змінної для обрахунку
        let visitorsPerWeekend = 0;

        // Обраховуємо відвідуваність за останні два дні тижня (вихідні дні)
        for (let i = 5; i < 7; i++) {
          visitorsPerWeekend += visitors[i];
        }

        // Повертаємо результат
        return visitorsPerWeekend;
      }

      //========================================================================================

      // Формуємо і виводимо таблицю з результатами
      document.write(`
			<table>
				<tr>
					<th>Task<br>${numberOfVisitors.join()}</th>
					<th>Result</th>
				</tr>
				<tr>
					<td>Номери днів, протягом яких кількість відвідувачів була меншою за 20</td>
					<td>${getDaysWithVisitorsLessThan20(numberOfVisitors)}</td>
				</tr>
				<tr>
					<td>Номери днів, коли кількість відвідувачів була мінімальною</td>
					<td>${getDaysWithMinimumVisitors(numberOfVisitors)}</td>
				</tr>
				<tr>
					<td>Номери днів, коли кількість відвідувачів була максимальною</td>
					<td>${getDaysWithMaximumVisitors(numberOfVisitors)}</td>
				</tr>
				<tr>
					<td>Загальна кількість клієнтів у робочі дні</td>
					<td>${getVisitorsPerWorkDays(numberOfVisitors)}</td>
				</tr>
				<tr>
					<td>Загальна кількість відвідувачів на вихідних.</td>
					<td>${getVisitorsPerWeekend(numberOfVisitors)}</td>
				</tr>
			</table>
		`);
    </script>
  </body>
</html>
