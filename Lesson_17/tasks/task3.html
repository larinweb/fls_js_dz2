<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>LVS_UA L17 DZ task 3</title>
		<link rel="stylesheet" href="../../style.css" />
	</head>
	<body class="result__body">
		<h1>Задача 3</h1>
		<p>
			Створити клас Нагадувач. Кожні вказані кількості секунд (використати setInterval) програма нагадує про якусь подію (це просто текст) і
			також виводиться порядковий номер скільки раз вже нагадування було. Зробити так, щоб не можна було зробити одночасно декілька
			об'єктів-нагадувачів. Методи зупинки таймера, метод зміни повідомлення без зупинки таймера.
		</p>

		<script>
			"use strict";
			//=======================================================================================
			class Reminder {
				static #event;
				constructor(message, interval) {
					if (Reminder.#event) return Reminder.#event;
					this.message = message;
					this.interval = interval;
					this.count = 0;
					this.timer = setInterval(() => {
						this.count++;
						console.log(`${this.count}. ${this.message}`);
					}, this.interval);
					Reminder.#event = this;
				}

				stop() {
					clearInterval(this.timer);
				}

				changeMessage(newMessage) {
					this.message = newMessage;
					console.log(`Подія змінена на: ${this.message}`);
				}

				toString() {
					return `Подія: ${this.message}, Інтервал: ${this.interval}`;
				}
			}

			// Приклад використання
			const event = new Reminder("Подія 1", 2000);
			console.log(event.toString());
			console.log(event.changeMessage("Подія 2"));

			//======================================================================================
		</script>
	</body>
</html>
